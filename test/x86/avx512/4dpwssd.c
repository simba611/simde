#define SIMDE_TEST_X86_AVX512_INSN 4dpwssd

#include <test/x86/avx512/test-avx512.h>
#include <simde/x86/avx512/4dpwssd.h>

static int
test_simde_mm512_4dpwssd_epi32 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const int32_t src[16];
    const int32_t a0[16];
    const int32_t a1[16];
    const int32_t a2[16];
    const int32_t a3[16];
    const int32_t b[4];
    const int32_t r[16];
  } test_vec[] = {
    { {  INT32_C(  1788435004),  INT32_C(  1186699647),  INT32_C(  1019015333),  INT32_C(  1524798042),  INT32_C(  1529579339), -INT32_C(   197918368),  INT32_C(  1006979247),  INT32_C(  1880423732),
        -INT32_C(   673534377), -INT32_C(   333605305), -INT32_C(   534193786), -INT32_C(  1220867477), -INT32_C(   233675118),  INT32_C(   400967272), -INT32_C(  1034687602),  INT32_C(  1077111016) },
      {  INT32_C(  1561791766),  INT32_C(   692663459),  INT32_C(  2030727438),  INT32_C(   238044540),  INT32_C(   318784171),  INT32_C(   371910280), -INT32_C(  1160151343), -INT32_C(    50721562),
        -INT32_C(  1118236391),  INT32_C(  1407623749), -INT32_C(  1882329069), -INT32_C(   509739723), -INT32_C(   923493056),  INT32_C(  1440685955), -INT32_C(  2096121699), -INT32_C(   578876988) },
      {  INT32_C(  1603983386), -INT32_C(  1917615750), -INT32_C(  1491238799), -INT32_C(  1115112835), -INT32_C(   611943336),  INT32_C(   942695835), -INT32_C(   507822307),  INT32_C(  1656633928),
        -INT32_C(  1933420270),  INT32_C(  1260025306),  INT32_C(  1928476661),  INT32_C(  1227913969), -INT32_C(  1843022089),  INT32_C(   952849691), -INT32_C(   585529707), -INT32_C(   750725183) },
      {  INT32_C(   174064176),  INT32_C(  1817606775), -INT32_C(  1562490703), -INT32_C(  1158934845), -INT32_C(   548662844), -INT32_C(    82372762),  INT32_C(  1608069278),  INT32_C(   942807304),
        -INT32_C(  1841065445), -INT32_C(  1107388148), -INT32_C(  1537155871), -INT32_C(  1352774421), -INT32_C(  1013994659),  INT32_C(  1623172802), -INT32_C(   541091625), -INT32_C(   870845775) },
      { -INT32_C(  1856087420), -INT32_C(   716284685),  INT32_C(   595177016),  INT32_C(  1473501434),  INT32_C(  1159422595), -INT32_C(   542713336),  INT32_C(   599680370), -INT32_C(   588261801),
         INT32_C(   611142960), -INT32_C(   503727191),  INT32_C(  1678078570), -INT32_C(   843261878),  INT32_C(  1108596538),  INT32_C(   589478321),  INT32_C(  1984356382), -INT32_C(   414042698) },
      {  INT32_C(   722190210), -INT32_C(   468974470), -INT32_C(  1052176010),  INT32_C(   596510185) },
      { -INT32_C(  1678616963),  INT32_C(   149478205),  INT32_C(   287053134),  INT32_C(  2142273573),  INT32_C(  2052394355), -INT32_C(   737762452), -INT32_C(  1139881054), -INT32_C(  1595243707),
         INT32_C(  2017847360), -INT32_C(   747555060), -INT32_C(  1966349827), -INT32_C(   473501132), -INT32_C(   203050833),  INT32_C(  1188715511),  INT32_C(   411571320),  INT32_C(   106465761) } },
    { { -INT32_C(  1922653732),  INT32_C(  2041612378),  INT32_C(   535819880), -INT32_C(  1392099029),  INT32_C(  2060980480), -INT32_C(  1956649963), -INT32_C(   548624138), -INT32_C(  1996235859),
        -INT32_C(   686397060),  INT32_C(  1498466033), -INT32_C(   411549764), -INT32_C(  2137751936), -INT32_C(  1527092081),  INT32_C(  1177573712), -INT32_C(  1373209599), -INT32_C(   734582441) },
      { -INT32_C(  2085925486), -INT32_C(   807601389), -INT32_C(  1162455750),  INT32_C(  1664764627),  INT32_C(   117912758), -INT32_C(  1890764914),  INT32_C(   188642228),  INT32_C(   786396572),
        -INT32_C(   693007677), -INT32_C(  1079603579), -INT32_C(  1233560349),  INT32_C(  1561965479),  INT32_C(  1986273768),  INT32_C(   201699928), -INT32_C(  1038597339),  INT32_C(  2096166841) },
      {  INT32_C(   122856066),  INT32_C(   331872304), -INT32_C(    53919659), -INT32_C(   598088716),  INT32_C(  1548926468), -INT32_C(  1788258448),  INT32_C(  1415020955), -INT32_C(    87013256),
         INT32_C(   436347626),  INT32_C(  1882048795), -INT32_C(    43190775), -INT32_C(   572930599), -INT32_C(   214291581),  INT32_C(   512336771), -INT32_C(  1670193116),  INT32_C(   311902760) },
      {  INT32_C(  2133629284),  INT32_C(  1810848098),  INT32_C(   694770512), -INT32_C(  1543028191), -INT32_C(   241680018),  INT32_C(   135209444),  INT32_C(   715424001),  INT32_C(   658258883),
         INT32_C(   916941268),  INT32_C(   312645314),  INT32_C(   322702322), -INT32_C(  1145617587),  INT32_C(  1756123012),  INT32_C(  1919990640), -INT32_C(     6548420),  INT32_C(   606591056) },
      {  INT32_C(    73125441),  INT32_C(  1444347236),  INT32_C(  1432965640),  INT32_C(   420553109), -INT32_C(   511591056), -INT32_C(  1252789895),  INT32_C(  1454763782),  INT32_C(   159046855),
         INT32_C(   235787690), -INT32_C(   630905902),  INT32_C(   187747958),  INT32_C(  1613054447),  INT32_C(  2000791294), -INT32_C(  1641180008),  INT32_C(  1257562755),  INT32_C(  1750298302) },
      {  INT32_C(   376856644), -INT32_C(    84812924), -INT32_C(  1727716950),  INT32_C(  1626942050) },
      {  INT32_C(   231653869), -INT32_C(   504694174), -INT32_C(  1176124329),  INT32_C(   442759597), -INT32_C(    13071567),  INT32_C(   279650788), -INT32_C(  1237810618),  INT32_C(  1073858850),
         INT32_C(   493166752),  INT32_C(   484871559), -INT32_C(  1313699058),  INT32_C(  1248152385), -INT32_C(  1545364333), -INT32_C(  1689499910), -INT32_C(   314496984),  INT32_C(  1963030083) } },
    { {  INT32_C(  1775778513),  INT32_C(  1359414734), -INT32_C(  1516438553), -INT32_C(  1391595671), -INT32_C(   725318832),  INT32_C(   164541791),  INT32_C(   950195158), -INT32_C(   812081922),
        -INT32_C(  1523027754),  INT32_C(  1559641973), -INT32_C(  1560178118), -INT32_C(   766439806), -INT32_C(   240773742), -INT32_C(  1594198838),  INT32_C(  1171823687),  INT32_C(   252997688) },
      {  INT32_C(  1454656737), -INT32_C(   978081141), -INT32_C(  1083591619),  INT32_C(  1435613891), -INT32_C(  1723451441), -INT32_C(   231128917),  INT32_C(   355996124),  INT32_C(  1646546049),
         INT32_C(   616159385), -INT32_C(  1075155838), -INT32_C(   478260448), -INT32_C(   600305907), -INT32_C(   243958202), -INT32_C(  1679511874),  INT32_C(  1085283519),  INT32_C(    27513960) },
      {  INT32_C(   774266028), -INT32_C(   387051320),  INT32_C(  1892445283), -INT32_C(  1035205508),  INT32_C(  1102365059),  INT32_C(   786208879),  INT32_C(   477007028),  INT32_C(   203297120),
         INT32_C(   893076589), -INT32_C(  1222760108),  INT32_C(   287828629),  INT32_C(  1909748718), -INT32_C(  1548515276), -INT32_C(   724463840),  INT32_C(  2096119580), -INT32_C(  1098314159) },
      { -INT32_C(  1493908398), -INT32_C(  2107829523), -INT32_C(   359365380),  INT32_C(   727476471),  INT32_C(   281939952), -INT32_C(  1159422050),  INT32_C(   808965343),  INT32_C(   904839395),
         INT32_C(  1910301316), -INT32_C(   252495372), -INT32_C(  1243904066), -INT32_C(   538888209), -INT32_C(   454054074),  INT32_C(   782226255), -INT32_C(  1956718936),  INT32_C(   448810134) },
      {  INT32_C(   596352047), -INT32_C(  1810596138), -INT32_C(   179704058),  INT32_C(  1825909286),  INT32_C(   693159130),  INT32_C(  1079504792),  INT32_C(  1540076997),  INT32_C(   813009665),
        -INT32_C(    28049368), -INT32_C(  2054002561),  INT32_C(  2105203543), -INT32_C(   521580794), -INT32_C(  1408681708), -INT32_C(   286498775),  INT32_C(   373995285),  INT32_C(  1783086914) },
      {  INT32_C(  1063820224),  INT32_C(  1522858499), -INT32_C(   589873450), -INT32_C(  1564688242) },
      { -INT32_C(  1236278050),  INT32_C(  1817767006), -INT32_C(  1234142399), -INT32_C(  1337879376),  INT32_C(  1035846551), -INT32_C(    67272600), -INT32_C(   850110879),  INT32_C(   823195278),
        -INT32_C(  1470099537),  INT32_C(  1101811985),  INT32_C(   856176462),  INT32_C(  1779044309),  INT32_C(  1945617897),  INT32_C(  1531521359),  INT32_C(  1456131664),  INT32_C(   783515476) } },
    { {  INT32_C(   575587833),  INT32_C(   974207525),  INT32_C(   860904433), -INT32_C(   627140838),  INT32_C(   890832434), -INT32_C(   678437631), -INT32_C(  1431083492),  INT32_C(   541880102),
         INT32_C(  1497537076), -INT32_C(   980200492), -INT32_C(   906435666), -INT32_C(  1381788037), -INT32_C(  1629241955), -INT32_C(  1233816934), -INT32_C(    10475303), -INT32_C(   887116649) },
      {  INT32_C(   438592070),  INT32_C(  1692383157),  INT32_C(   355326106),  INT32_C(   197382254),  INT32_C(   682206861), -INT32_C(   237101544), -INT32_C(   571392186),  INT32_C(   849875179),
         INT32_C(   676121714),  INT32_C(   512502915),  INT32_C(  1915992324),  INT32_C(   394196617), -INT32_C(  1254152292), -INT32_C(  1935270586),  INT32_C(  1214945116),  INT32_C(   444207784) },
      {  INT32_C(  1648543455), -INT32_C(   159330574),  INT32_C(   292140167),  INT32_C(  1193863082),  INT32_C(  1425827598), -INT32_C(   505306492), -INT32_C(   500610246),  INT32_C(  1023189853),
         INT32_C(  1553940329), -INT32_C(  1789780211),  INT32_C(  2124856275), -INT32_C(  1312436574), -INT32_C(  1190805195), -INT32_C(  1650792861), -INT32_C(  1887452367), -INT32_C(   791970714) },
      { -INT32_C(   936613189),  INT32_C(  1566408330), -INT32_C(   589626566),  INT32_C(   109945041), -INT32_C(   977235103), -INT32_C(  1419617671), -INT32_C(  2076515810),  INT32_C(   424936798),
        -INT32_C(    85884816),  INT32_C(   962019327),  INT32_C(   336933698),  INT32_C(   890938323), -INT32_C(  1342514634),  INT32_C(  1398430773), -INT32_C(  1663593410),  INT32_C(   179645594) },
      { -INT32_C(  1425762388),  INT32_C(   417618902),  INT32_C(  1647114894), -INT32_C(   745060451),  INT32_C(  1451397409),  INT32_C(   749329901),  INT32_C(   197689713),  INT32_C(  1494580909),
        -INT32_C(   351987435),  INT32_C(    50588021), -INT32_C(  2140851997), -INT32_C(  1739326345),  INT32_C(  2079315597),  INT32_C(   614963379), -INT32_C(   969904359),  INT32_C(    35669485) },
      { -INT32_C(   722655905), -INT32_C(   220729074), -INT32_C(  1737343711), -INT32_C(   953104839) },
      { -INT32_C(   336594799), -INT32_C(  1370796152), -INT32_C(  1042177790),  INT32_C(  1067571877), -INT32_C(  1181838926), -INT32_C(  1583162029), -INT32_C(    70571395),  INT32_C(  1142371340),
         INT32_C(   820035072),  INT32_C(   399927384),  INT32_C(   489601974), -INT32_C(  1536106351), -INT32_C(  1704041149), -INT32_C(    74619930), -INT32_C(   310167218),  INT32_C(   469654001) } },
    { {  INT32_C(  1329733532), -INT32_C(   780932680),  INT32_C(  1184408408),  INT32_C(  1212725481), -INT32_C(   350472483),  INT32_C(  1222505255),  INT32_C(  1793085488), -INT32_C(  1305407466),
        -INT32_C(   402558160), -INT32_C(  1262914468),  INT32_C(    33181976), -INT32_C(   431406327), -INT32_C(  1596824199), -INT32_C(  1981239464),  INT32_C(   368298239),  INT32_C(   147268824) },
      { -INT32_C(   202323817),  INT32_C(  1437051453),  INT32_C(    89563899),  INT32_C(  1592500197),  INT32_C(  1560198404),  INT32_C(  1827006061), -INT32_C(  2038245202), -INT32_C(  1819325956),
         INT32_C(  1334214418),  INT32_C(   631516713), -INT32_C(  1255474480), -INT32_C(  1659693671),  INT32_C(  1090064851), -INT32_C(  1515397129), -INT32_C(  1272238409), -INT32_C(  1975010696) },
      {  INT32_C(  1675218490), -INT32_C(   863470084),  INT32_C(   276935287), -INT32_C(  1683123000), -INT32_C(  1663326555),  INT32_C(  1027704709),  INT32_C(   787573942),  INT32_C(  1639462951),
         INT32_C(    46436614), -INT32_C(  2050077426), -INT32_C(   946515969), -INT32_C(  2006826269),  INT32_C(  1847868904),  INT32_C(  2074830277), -INT32_C(   106324782), -INT32_C(   614833708) },
      {  INT32_C(    14491378),  INT32_C(  1803922539), -INT32_C(   550364421),  INT32_C(  1147639132), -INT32_C(  1749906222), -INT32_C(  1022206479), -INT32_C(   826491911),  INT32_C(   245962268),
        -INT32_C(  1609660875),  INT32_C(   772510514),  INT32_C(   151862957), -INT32_C(  1521584941), -INT32_C(   230883328),  INT32_C(  1471500126),  INT32_C(   656765451), -INT32_C(  1120481656) },
      { -INT32_C(  2023865259), -INT32_C(  2051708456),  INT32_C(  2056241831),  INT32_C(   924900663),  INT32_C(   992566749), -INT32_C(  1215045716), -INT32_C(   639649711), -INT32_C(   594078329),
         INT32_C(   828634457),  INT32_C(   112662878),  INT32_C(   310396635),  INT32_C(     4890659), -INT32_C(  1438878723), -INT32_C(  1553871022),  INT32_C(   243089543), -INT32_C(  1343613867) },
      {  INT32_C(  1742753289),  INT32_C(  1114478439),  INT32_C(     5631709), -INT32_C(  1946050674) },
      {  INT32_C(  1884738121),  INT32_C(   584924031),  INT32_C(    31682491),  INT32_C(   930897332), -INT32_C(  1846407779), -INT32_C(  1348778746),  INT32_C(  2126633635), -INT32_C(  1137433824),
         INT32_C(   180343464), -INT32_C(  1412720537), -INT32_C(  1855900386),  INT32_C(  1497667064), -INT32_C(  1585194834),  INT32_C(   651530431),  INT32_C(  1202916773), -INT32_C(   863663427) } },
    { {  INT32_C(  1698053394), -INT32_C(  1828153588),  INT32_C(   765625816), -INT32_C(  1562604391),  INT32_C(  1091223002),  INT32_C(   847542100), -INT32_C(   197994139), -INT32_C(  1971309704),
         INT32_C(  2096084592),  INT32_C(   621869133),  INT32_C(   391361149),  INT32_C(   431566654),  INT32_C(  1096467436), -INT32_C(  1603019205),  INT32_C(   798270903),  INT32_C(  1236931801) },
      {  INT32_C(   415672778),  INT32_C(   524146337), -INT32_C(   969502584), -INT32_C(  1394610240), -INT32_C(   286442829), -INT32_C(   795975656), -INT32_C(   536927482),  INT32_C(    36223287),
         INT32_C(    68873827),  INT32_C(  1277384644), -INT32_C(  1475126808), -INT32_C(    61541815),  INT32_C(  1172980268), -INT32_C(  1474987870), -INT32_C(   746122085),  INT32_C(   836088014) },
      {  INT32_C(  1664479134),  INT32_C(   783243590), -INT32_C(    69811534), -INT32_C(   503895115),  INT32_C(   254206317), -INT32_C(   172475558),  INT32_C(   516439888), -INT32_C(  1907384849),
        -INT32_C(   739146612), -INT32_C(  1878941475),  INT32_C(   411818083),  INT32_C(  1895400195), -INT32_C(  1098964892), -INT32_C(  1414252709),  INT32_C(  1724480631), -INT32_C(  1493952486) },
      {  INT32_C(  2054808989), -INT32_C(   385188986),  INT32_C(  1442944595),  INT32_C(  2110192153),  INT32_C(  1983661338), -INT32_C(   199102339), -INT32_C(  2040861844), -INT32_C(  1607643389),
        -INT32_C(  1172593100),  INT32_C(  1956848929), -INT32_C(   724917061), -INT32_C(  1185771361),  INT32_C(  1395625686), -INT32_C(   364424834),  INT32_C(  1064411452),  INT32_C(   635477744) },
      {  INT32_C(  1725954884), -INT32_C(   589659360), -INT32_C(   961501913),  INT32_C(   192938549),  INT32_C(   241086352),  INT32_C(  1022993664),  INT32_C(   930900551),  INT32_C(  1281121288),
         INT32_C(  2008169559), -INT32_C(   430731841),  INT32_C(  1739392050), -INT32_C(  1754059514), -INT32_C(   576335396), -INT32_C(  1105617289),  INT32_C(   284529928),  INT32_C(  1214075633) },
      {  INT32_C(  1304432526), -INT32_C(   835513444),  INT32_C(   506912791), -INT32_C(   357193459) },
      { -INT32_C(  1923121301),  INT32_C(  1813526188), -INT32_C(   716817536), -INT32_C(  2008657959),  INT32_C(   481921332), -INT32_C(   496369953), -INT32_C(  1819289929), -INT32_C(    97377795),
        -INT32_C(   678967776), -INT32_C(   246643769),  INT32_C(  1014799405),  INT32_C(  1146559767),  INT32_C(  1482229454), -INT32_C(  1661536547), -INT32_C(   573332352),  INT32_C(   851910826) } },
    { { -INT32_C(   238593414),  INT32_C(    28303609),  INT32_C(  1729275254), -INT32_C(  2052034569),  INT32_C(   466776190), -INT32_C(  1679227517), -INT32_C(   205971482),  INT32_C(  1138585288),
        -INT32_C(  1053514552), -INT32_C(    71048059), -INT32_C(  2141006455), -INT32_C(  1039855036),  INT32_C(   115201922), -INT32_C(  1029584932), -INT32_C(  1347003674), -INT32_C(  1863150648) },
      { -INT32_C(  1118689736), -INT32_C(  1816652534),  INT32_C(   773004010), -INT32_C(  1343219667), -INT32_C(   860500241),  INT32_C(  2072925845),  INT32_C(  2016036016),  INT32_C(   269032664),
         INT32_C(  1305303875),  INT32_C(  1524729200), -INT32_C(   863439713), -INT32_C(    58951667), -INT32_C(   607637178),  INT32_C(   945248136),  INT32_C(  1941012891), -INT32_C(   511460706) },
      { -INT32_C(  2060562411),  INT32_C(  1977552853),  INT32_C(   289498884),  INT32_C(   638434783),  INT32_C(  1996609263), -INT32_C(   928032723),  INT32_C(  2017222874),  INT32_C(   794410778),
        -INT32_C(   441153776), -INT32_C(  1688562793), -INT32_C(   626221830),  INT32_C(  1208007001), -INT32_C(  1128332913),  INT32_C(   881160026), -INT32_C(   357776945), -INT32_C(  1877408384) },
      {  INT32_C(   594988684),  INT32_C(  1556009057), -INT32_C(   969512340), -INT32_C(  1290914268), -INT32_C(  1854878153),  INT32_C(   214299965),  INT32_C(   922120630),  INT32_C(    63377526),
         INT32_C(  1059470814),  INT32_C(  2057037069),  INT32_C(  1933627727),  INT32_C(  1059540487),  INT32_C(  1506842396),  INT32_C(  1114019468),  INT32_C(  2121817095),  INT32_C(  1249984364) },
      { -INT32_C(  1970624644), -INT32_C(   603708020), -INT32_C(    28359433), -INT32_C(  1354926446), -INT32_C(  1727525363), -INT32_C(  1411682652),  INT32_C(   925455563),  INT32_C(   276998803),
        -INT32_C(   560329646),  INT32_C(   683318833),  INT32_C(  1948715746), -INT32_C(  1910283136),  INT32_C(   371666034),  INT32_C(  1707213722), -INT32_C(   358749353), -INT32_C(   386261098) },
      {  INT32_C(  1556517931),  INT32_C(   344293682),  INT32_C(   193571979), -INT32_C(  2087080944) },
      { -INT32_C(   718696160), -INT32_C(   249472555),  INT32_C(   887845526), -INT32_C(    23209478), -INT32_C(   940761933),  INT32_C(  1351123787),  INT32_C(  1576559117),  INT32_C(  1004186660),
         INT32_C(   792540573), -INT32_C(  1948828055), -INT32_C(    98228787), -INT32_C(    53808607),  INT32_C(     5488534), -INT32_C(  1176595859),  INT32_C(   871998107),  INT32_C(   969488754) } },
    { {  INT32_C(  1939456472),  INT32_C(   467164100), -INT32_C(   586844857), -INT32_C(  1077608300), -INT32_C(   954430572), -INT32_C(  1747214068),  INT32_C(  1570989133), -INT32_C(   371180527),
        -INT32_C(  1050903811),  INT32_C(   484193749),  INT32_C(  1073341098),  INT32_C(  1996406498),  INT32_C(  1446845002),  INT32_C(   149821883), -INT32_C(  1905880707), -INT32_C(   881310003) },
      { -INT32_C(  1769155392), -INT32_C(  1263376119),  INT32_C(   770944075), -INT32_C(  1264324246), -INT32_C(   955522804),  INT32_C(  2010184186),  INT32_C(  1460024970),  INT32_C(  1025670780),
         INT32_C(  1557376850),  INT32_C(  1662027032), -INT32_C(  1668283599),  INT32_C(     5256180),  INT32_C(   248011540), -INT32_C(   561604524),  INT32_C(  1245088974),  INT32_C(  1552373770) },
      {  INT32_C(   532175367),  INT32_C(   293783776), -INT32_C(  1062399285),  INT32_C(  1522597446), -INT32_C(  1368815527), -INT32_C(   292753632), -INT32_C(  2059812229),  INT32_C(   585220123),
        -INT32_C(    79521253),  INT32_C(   772588642),  INT32_C(   502184663),  INT32_C(   293056184),  INT32_C(  1472192567),  INT32_C(  1246121167),  INT32_C(   701464334),  INT32_C(  1514975551) },
      { -INT32_C(  1386901941),  INT32_C(   702243410), -INT32_C(   733558500), -INT32_C(  1343897992),  INT32_C(  1845929374), -INT32_C(     4698895),  INT32_C(   187271371), -INT32_C(  2073725639),
         INT32_C(  1429322499),  INT32_C(   964627741),  INT32_C(  1309525462),  INT32_C(   587068035), -INT32_C(  2003827561),  INT32_C(   478693456),  INT32_C(   153596368),  INT32_C(   697142310) },
      {  INT32_C(  1686028103), -INT32_C(  1566704180),  INT32_C(  1190243011),  INT32_C(   879292061),  INT32_C(  1136523506),  INT32_C(   291456321),  INT32_C(   471566070),  INT32_C(  1514514450),
         INT32_C(   868139879), -INT32_C(  2066326335), -INT32_C(  1546991866), -INT32_C(  1462225995),  INT32_C(  1827378475), -INT32_C(   797029670), -INT32_C(   487810608), -INT32_C(  1455673023) },
      { -INT32_C(  1243808780),  INT32_C(  1564062295),  INT32_C(   788595833),  INT32_C(  1658313015) },
      { -INT32_C(    45193244), -INT32_C(  2142313477),  INT32_C(  1789405116),  INT32_C(  1035492520),  INT32_C(  1641847873),  INT32_C(   957956264),  INT32_C(  1603844613), -INT32_C(   815191782),
         INT32_C(   882749598),  INT32_C(  1220173142),  INT32_C(   786456398), -INT32_C(   691386349), -INT32_C(  1590182951),  INT32_C(   463381268),  INT32_C(   321821160),  INT32_C(   656094453) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512i src = simde_mm512_loadu_epi32(test_vec[i].src);
    simde__m512i a0 = simde_mm512_loadu_epi32(test_vec[i].a0);
    simde__m512i a1 = simde_mm512_loadu_epi32(test_vec[i].a1);
    simde__m512i a2 = simde_mm512_loadu_epi32(test_vec[i].a2);
    simde__m512i a3 = simde_mm512_loadu_epi32(test_vec[i].a3);
    simde__m128i b = simde_x_mm_loadu_epi32(test_vec[i].b);
    simde__m512i r = simde_mm512_4dpwssd_epi32(src, a0, a1, a2, a3, &b);
    simde_test_x86_assert_equal_i32x16(r, simde_mm512_loadu_epi32(test_vec[i].r));
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__m512i src = simde_test_x86_random_i32x16();
    simde__m512i a0 = simde_test_x86_random_i32x16();
    simde__m512i a1 = simde_test_x86_random_i32x16();
    simde__m512i a2 = simde_test_x86_random_i32x16();
    simde__m512i a3 = simde_test_x86_random_i32x16();
    simde__m128i b = simde_test_x86_random_i32x4();
    simde__m512i r = simde_mm512_4dpwssd_epi32(src, a0, a1, a2, a3, &b);

    simde_test_x86_write_i32x16(2, src, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_i32x16(2, a0, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a1, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a2, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a3, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x4(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_mask_4dpwssd_epi32 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const int32_t src[16];
    const simde__mmask16 k;
    const int32_t a0[16];
    const int32_t a1[16];
    const int32_t a2[16];
    const int32_t a3[16];
    const int32_t b[4];
    const int32_t r[16];
  } test_vec[] = {
    { { -INT32_C(   723314101),  INT32_C(  1593705089), -INT32_C(  1535041736), -INT32_C(  1575462005), -INT32_C(   587616623),  INT32_C(   679732411), -INT32_C(  1008145668), -INT32_C(  1580787370),
        -INT32_C(  1250514381), -INT32_C(   451709780),  INT32_C(   529110164), -INT32_C(  2118016272),  INT32_C(   190691920), -INT32_C(  1691098721),  INT32_C(   559815883),  INT32_C(  1774396725) },
      UINT16_C(14799),
      {  INT32_C(   833453086), -INT32_C(   356171423),  INT32_C(   562869600), -INT32_C(  1797465033),  INT32_C(   460684263),  INT32_C(  1949778198),  INT32_C(   630811746), -INT32_C(   211916587),
         INT32_C(  1159990500), -INT32_C(  1372526003), -INT32_C(   691028833), -INT32_C(  2140427367),  INT32_C(  1016848422), -INT32_C(  2068786655),  INT32_C(   346638655), -INT32_C(  1777858382) },
      {  INT32_C(  1641819156), -INT32_C(  1240527850),  INT32_C(  1636622280), -INT32_C(  1310525558), -INT32_C(   101876264), -INT32_C(  1887592880), -INT32_C(  1717360665),  INT32_C(  1127263023),
        -INT32_C(   291238696), -INT32_C(   526076904),  INT32_C(   490877331),  INT32_C(    13509672), -INT32_C(   235225951),  INT32_C(  1098938202), -INT32_C(   841276258), -INT32_C(  1492120625) },
      {  INT32_C(   798405911), -INT32_C(    66110871), -INT32_C(  1810280085),  INT32_C(   395634805), -INT32_C(    32993628), -INT32_C(  1539340026),  INT32_C(  2087852717),  INT32_C(  1009025573),
        -INT32_C(  1603552713),  INT32_C(  1620868084),  INT32_C(  1123333836),  INT32_C(  1113163934),  INT32_C(   490758423), -INT32_C(  1748926486), -INT32_C(  1089195110), -INT32_C(   302237514) },
      { -INT32_C(   426874894), -INT32_C(  1354355998),  INT32_C(  2129738464), -INT32_C(   624932157), -INT32_C(  1762197333),  INT32_C(   439203968), -INT32_C(  1562820116),  INT32_C(  1804588409),
         INT32_C(   525475133),  INT32_C(   684628040), -INT32_C(  1767391277), -INT32_C(  1250924791), -INT32_C(   397711512),  INT32_C(   184711199),  INT32_C(   867031994), -INT32_C(   291553871) },
      { -INT32_C(  1576144550),  INT32_C(  1556864137), -INT32_C(  1510837605),  INT32_C(  1096442585) },
      {  INT32_C(  1190273648),  INT32_C(  2064081340),  INT32_C(   861389005), -INT32_C(  1759448501), -INT32_C(   587616623),  INT32_C(   679732411), -INT32_C(  1294406942),  INT32_C(  1734598015),
        -INT32_C(   917070744), -INT32_C(   451709780),  INT32_C(   529110164), -INT32_C(    34819190),  INT32_C(  1616431061),  INT32_C(   856050892),  INT32_C(   559815883),  INT32_C(  1774396725) } },
    { { -INT32_C(   383146551), -INT32_C(   671864035), -INT32_C(  1207197177),  INT32_C(   967224031),  INT32_C(   618443675),  INT32_C(   729917327), -INT32_C(   221220071), -INT32_C(  1623971114),
        -INT32_C(   326607409), -INT32_C(  1866170999), -INT32_C(    28782817),  INT32_C(   339209849),  INT32_C(   825758625), -INT32_C(   748897862),  INT32_C(    63319085),  INT32_C(   631437910) },
      UINT16_C(11095),
      { -INT32_C(   710352879), -INT32_C(  1197160592), -INT32_C(    56222267),  INT32_C(  1779451953), -INT32_C(   719074695),  INT32_C(  1677807774), -INT32_C(   161589421), -INT32_C(  1927170692),
         INT32_C(   107202966),  INT32_C(  1438582672),  INT32_C(  1448174885),  INT32_C(   650142125), -INT32_C(   889461716), -INT32_C(  2010186700), -INT32_C(   813790125), -INT32_C(   681730239) },
      { -INT32_C(   119619480), -INT32_C(   330457657), -INT32_C(  1337745918),  INT32_C(   752222976),  INT32_C(   485937895),  INT32_C(   581182670), -INT32_C(   235855184),  INT32_C(   701058753),
        -INT32_C(   702437618),  INT32_C(  1187147332),  INT32_C(   217449740), -INT32_C(   264712951),  INT32_C(  1829514911),  INT32_C(    42971218), -INT32_C(  1812692526), -INT32_C(   558055985) },
      { -INT32_C(  1464541852),  INT32_C(  1492022859), -INT32_C(  2056985220),  INT32_C(  1366662578),  INT32_C(   515801803),  INT32_C(    86003250), -INT32_C(  1634200369),  INT32_C(   897340881),
         INT32_C(  2128425010),  INT32_C(   601279655),  INT32_C(  1671969457), -INT32_C(  1548476969), -INT32_C(   759074145), -INT32_C(  1881677376), -INT32_C(   953257994), -INT32_C(   134370620) },
      { -INT32_C(  2106205477),  INT32_C(  1470450598),  INT32_C(  1572490629),  INT32_C(   167800426), -INT32_C(  1579367967), -INT32_C(  1741573214), -INT32_C(   413114590), -INT32_C(   455189239),
        -INT32_C(   563719369),  INT32_C(   590678942), -INT32_C(  1014960040),  INT32_C(  1070432350), -INT32_C(   454973119),  INT32_C(  2122060380),  INT32_C(  2053495921),  INT32_C(  1902068537) },
      {  INT32_C(   877643158),  INT32_C(   693667025), -INT32_C(   739452812), -INT32_C(  1710048935) },
      {  INT32_C(   291065543),  INT32_C(   819770197), -INT32_C(   646371553),  INT32_C(   967224031), -INT32_C(   168473573),  INT32_C(   729917327), -INT32_C(  1618868722), -INT32_C(  1623971114),
        -INT32_C(  1123851230),  INT32_C(   432378695), -INT32_C(    28782817),  INT32_C(  1838493585),  INT32_C(   825758625),  INT32_C(  1025804180),  INT32_C(    63319085),  INT32_C(   631437910) } },
    { { -INT32_C(  1098976414),  INT32_C(  1983773445),  INT32_C(   301048535),  INT32_C(  2088915174), -INT32_C(   424554219), -INT32_C(   904918699),  INT32_C(   983432417),  INT32_C(   416657334),
        -INT32_C(  1462283357),  INT32_C(   639571022), -INT32_C(  1674112842),  INT32_C(  1964620128), -INT32_C(   547566966), -INT32_C(  1263964973),  INT32_C(   518997608), -INT32_C(  1724398346) },
      UINT16_C( 3607),
      {  INT32_C(  1612867137), -INT32_C(  1016014708), -INT32_C(  1904422795), -INT32_C(  1571289530), -INT32_C(  1894896667), -INT32_C(   824871201), -INT32_C(   862794859), -INT32_C(  1495618972),
        -INT32_C(  1677263856),  INT32_C(  1230993364), -INT32_C(  1915233465), -INT32_C(   969986079),  INT32_C(   978664794),  INT32_C(  1225272244),  INT32_C(  1528142838),  INT32_C(  1426190149) },
      { -INT32_C(  1074722837), -INT32_C(   972468098),  INT32_C(   206823467),  INT32_C(  1792181008),  INT32_C(  1956915392),  INT32_C(  1237167443), -INT32_C(  1918578104), -INT32_C(  1394432575),
         INT32_C(   728552365),  INT32_C(  1324447011),  INT32_C(  1700414805), -INT32_C(  1999622968), -INT32_C(  1476561836),  INT32_C(  1777449505),  INT32_C(  1324782989), -INT32_C(   386148293) },
      { -INT32_C(   837589077),  INT32_C(   823920092),  INT32_C(   311916106), -INT32_C(   140875869), -INT32_C(    39872549), -INT32_C(   546926510),  INT32_C(  1613585701), -INT32_C(   515364811),
         INT32_C(  1806654607), -INT32_C(  1415721887), -INT32_C(   440585150),  INT32_C(  1994217371),  INT32_C(  1098087663),  INT32_C(   824236556),  INT32_C(  1821527351),  INT32_C(    88988278) },
      { -INT32_C(  1754137290),  INT32_C(   188878537), -INT32_C(   571343038),  INT32_C(  1179897431),  INT32_C(  1451738954), -INT32_C(   662198367),  INT32_C(  1782847988),  INT32_C(   712020724),
         INT32_C(  1489166735),  INT32_C(   828572911),  INT32_C(  1527665668),  INT32_C(  1822515490), -INT32_C(   910022616), -INT32_C(  1012839729),  INT32_C(  1462691427),  INT32_C(   126000760) },
      {  INT32_C(  1851737215),  INT32_C(  1285538376),  INT32_C(   967290135),  INT32_C(   933644302) },
      { -INT32_C(   446680280), -INT32_C(  1622063886), -INT32_C(   339888103),  INT32_C(  2088915174), -INT32_C(  1292607239), -INT32_C(   904918699),  INT32_C(   983432417),  INT32_C(   416657334),
        -INT32_C(  1462283357), -INT32_C(   580401772),  INT32_C(  1477018925), -INT32_C(   886420132), -INT32_C(   547566966), -INT32_C(  1263964973),  INT32_C(   518997608), -INT32_C(  1724398346) } },
    { {  INT32_C(  1056991344),  INT32_C(   369337010),  INT32_C(     7156104),  INT32_C(  1309142991),  INT32_C(  2092721715),  INT32_C(  1070095144),  INT32_C(   377057288),  INT32_C(   692920248),
         INT32_C(   979914375),  INT32_C(  2018536432),  INT32_C(  1803074972), -INT32_C(   524714067),  INT32_C(   224163301), -INT32_C(   666032688),  INT32_C(  1307559573),  INT32_C(  1819688165) },
      UINT16_C(57226),
      { -INT32_C(   162891098),  INT32_C(  1790240754),  INT32_C(   216621394), -INT32_C(  1635660223),  INT32_C(   700666588),  INT32_C(   435116074),  INT32_C(   475452581), -INT32_C(   402923456),
         INT32_C(  1306346843),  INT32_C(  2142802220),  INT32_C(   881566194),  INT32_C(  1288834160), -INT32_C(  1988782754), -INT32_C(  1834851091),  INT32_C(  2024732728),  INT32_C(   878684633) },
      {  INT32_C(   461454831), -INT32_C(  1046857266),  INT32_C(  1274357211), -INT32_C(  1869101262),  INT32_C(  1226378332), -INT32_C(  1461994384), -INT32_C(  1927247180),  INT32_C(   583106611),
        -INT32_C(  1958853699),  INT32_C(  1464653948),  INT32_C(   815940094),  INT32_C(  1690319112), -INT32_C(  1246897595),  INT32_C(  1247644054),  INT32_C(  1188593171), -INT32_C(  1150707202) },
      {  INT32_C(  1497802716),  INT32_C(  2108724095), -INT32_C(   575843372), -INT32_C(   767463796), -INT32_C(   561516728), -INT32_C(  1960254088),  INT32_C(  1641087075),  INT32_C(  1981561498),
         INT32_C(  1640981217), -INT32_C(   891387659),  INT32_C(  1604816083),  INT32_C(  1110567162),  INT32_C(  1327544791),  INT32_C(    31082654), -INT32_C(   480072631), -INT32_C(   933658906) },
      { -INT32_C(   701945376),  INT32_C(  2090862505), -INT32_C(  1915009133),  INT32_C(   131009839),  INT32_C(  1683419078), -INT32_C(  2124074696), -INT32_C(  1016805411),  INT32_C(   629914949),
        -INT32_C(  1879329562),  INT32_C(  1326160828),  INT32_C(   316532706), -INT32_C(  1172722444), -INT32_C(   736202852),  INT32_C(  2102756256), -INT32_C(  1891518134),  INT32_C(  1572129910) },
      {  INT32_C(  1038921857),  INT32_C(   780990539), -INT32_C(   750753313), -INT32_C(  1299359466) },
      {  INT32_C(  1056991344),  INT32_C(   106853763),  INT32_C(     7156104),  INT32_C(  1432471909),  INT32_C(  2092721715),  INT32_C(  1070095144),  INT32_C(   377057288), -INT32_C(  1804716636),
        -INT32_C(   281724740), -INT32_C(   846065774), -INT32_C(  1875579590), -INT32_C(  2057295144),  INT32_C(   918965464), -INT32_C(   666032688),  INT32_C(  1280486629), -INT32_C(   540353734) } },
    { {  INT32_C(  1770433480),  INT32_C(  2028395310),  INT32_C(   168241044),  INT32_C(  1969732596), -INT32_C(  1213049749),  INT32_C(   736443980), -INT32_C(  1090640472),  INT32_C(  1181780862),
         INT32_C(  1689253430),  INT32_C(  1708955345), -INT32_C(  1318067267),  INT32_C(   170317726),  INT32_C(  2009192491), -INT32_C(  1079859689),  INT32_C(  1232969931),  INT32_C(  1636822315) },
      UINT16_C(16355),
      { -INT32_C(  1579830075), -INT32_C(  2004577767),  INT32_C(  1784619588), -INT32_C(   314340820), -INT32_C(  1550624255), -INT32_C(  1773969895),  INT32_C(   931360423), -INT32_C(  1804179761),
         INT32_C(   859130650),  INT32_C(   565950941),  INT32_C(   143399900), -INT32_C(  1476997211),  INT32_C(  1112181033), -INT32_C(  1881633048), -INT32_C(   859415556), -INT32_C(   614449983) },
      {  INT32_C(  1695454855),  INT32_C(   730253647), -INT32_C(  1976298780),  INT32_C(   170994401), -INT32_C(  1689486413),  INT32_C(   103490569),  INT32_C(  1087566207), -INT32_C(  1256508882),
         INT32_C(   404367816), -INT32_C(   683433485), -INT32_C(  1788774477),  INT32_C(  1436521121),  INT32_C(   401665038), -INT32_C(  1877140720),  INT32_C(  1003548429), -INT32_C(   353309662) },
      {  INT32_C(   134351637),  INT32_C(  1608533676),  INT32_C(  1609843133), -INT32_C(   491481900), -INT32_C(  1862687616), -INT32_C(   853534784),  INT32_C(   671674630), -INT32_C(   233572131),
        -INT32_C(  1342499581),  INT32_C(   420469595), -INT32_C(   260570340),  INT32_C(   399649943), -INT32_C(  1867985712), -INT32_C(   379729693), -INT32_C(  1777179207),  INT32_C(  1636377950) },
      { -INT32_C(  1777236934),  INT32_C(  2075074655), -INT32_C(  1150539997),  INT32_C(   600981075), -INT32_C(   306939382), -INT32_C(    53014205), -INT32_C(   711726729),  INT32_C(  1211505678),
        -INT32_C(     2209888), -INT32_C(  1954902681),  INT32_C(   122087092),  INT32_C(   791353381), -INT32_C(   702685293),  INT32_C(  1741878512), -INT32_C(   348363299),  INT32_C(   557020033) },
      {  INT32_C(   572527290),  INT32_C(  1420663711), -INT32_C(  1503923327), -INT32_C(  1630108149) },
      {  INT32_C(  1051207216), -INT32_C(  1944590930),  INT32_C(   168241044),  INT32_C(  1969732596), -INT32_C(  1213049749), -INT32_C(  1511415011),  INT32_C(   874827518), -INT32_C(  1024281650),
        -INT32_C(  1886058922),  INT32_C(   168596996), -INT32_C(  2058532854),  INT32_C(   949872340),  INT32_C(   935230383), -INT32_C(  1607577659),  INT32_C(  1232969931),  INT32_C(  1636822315) } },
    { {  INT32_C(  1450505061), -INT32_C(   994228249),  INT32_C(   783284908),  INT32_C(   659546733), -INT32_C(  1807126284), -INT32_C(  1930889717), -INT32_C(   181189655),  INT32_C(   798165450),
        -INT32_C(   477820676), -INT32_C(    72924337), -INT32_C(  1440131523),  INT32_C(   768702776), -INT32_C(   188670999), -INT32_C(    75454191), -INT32_C(  1225739284), -INT32_C(  1192852548) },
      UINT16_C(27531),
      {  INT32_C(  1118755483), -INT32_C(     6755370),  INT32_C(  1735971221), -INT32_C(  1081974274), -INT32_C(   697789611),  INT32_C(  2122929294), -INT32_C(   251509237), -INT32_C(  1705210370),
         INT32_C(  1054608232), -INT32_C(  1942129162),  INT32_C(  1156822598),  INT32_C(  1828943127), -INT32_C(  1757189368), -INT32_C(   904540993),  INT32_C(   297473810),  INT32_C(   229316773) },
      {  INT32_C(   424380195),  INT32_C(  1118144764),  INT32_C(  1451661374),  INT32_C(   381913357), -INT32_C(  1263728908), -INT32_C(   444677422),  INT32_C(  2146843354),  INT32_C(  1972150610),
         INT32_C(   630118184), -INT32_C(  1637403553), -INT32_C(   621482292),  INT32_C(  1827714935), -INT32_C(  1893687875),  INT32_C(   963944031),  INT32_C(   716729048),  INT32_C(   882852875) },
      {  INT32_C(  2069442075),  INT32_C(   773439586),  INT32_C(   638061998), -INT32_C(  2121074492), -INT32_C(   183455083),  INT32_C(   690914640), -INT32_C(    78387217),  INT32_C(  1194324779),
        -INT32_C(  2084403167), -INT32_C(   139338936), -INT32_C(  1407337752),  INT32_C(  1210953650), -INT32_C(  1321386655), -INT32_C(  1294308414),  INT32_C(  2125278802),  INT32_C(  1120263201) },
      { -INT32_C(  1396340892),  INT32_C(  1252226658), -INT32_C(   470368208), -INT32_C(   802479249),  INT32_C(   595748960),  INT32_C(   651517139), -INT32_C(  1415282038), -INT32_C(  1024628386),
         INT32_C(  1382986480),  INT32_C(  1503400489),  INT32_C(  1111266002),  INT32_C(   353527733), -INT32_C(  1556572977),  INT32_C(  2076773873), -INT32_C(   316183153), -INT32_C(   961604394) },
      { -INT32_C(   266854713),  INT32_C(    38384688), -INT32_C(    79395258), -INT32_C(  1123002387) },
      {  INT32_C(  1230461502),  INT32_C(  1727051742),  INT32_C(   783284908), -INT32_C(   286548172), -INT32_C(  1807126284), -INT32_C(  1930889717), -INT32_C(   181189655),  INT32_C(   217066396),
        -INT32_C(  1556092668), -INT32_C(   200867640), -INT32_C(  1440131523),  INT32_C(   402475292), -INT32_C(   188670999), -INT32_C(  1153708997), -INT32_C(   799221151), -INT32_C(  1192852548) } },
    { { -INT32_C(   597669397), -INT32_C(   430429866),  INT32_C(  1825800086),  INT32_C(  1513259923), -INT32_C(   783660383),  INT32_C(  1154716926),  INT32_C(   121575450),  INT32_C(  1522814831),
        -INT32_C(   281598824), -INT32_C(   472543411), -INT32_C(  1588615154), -INT32_C(   855867093), -INT32_C(   912439605), -INT32_C(   200445478), -INT32_C(   117683063),  INT32_C(   877838492) },
      UINT16_C(35301),
      { -INT32_C(   132632029),  INT32_C(  1705059862), -INT32_C(   991441720),  INT32_C(   906670745), -INT32_C(  1985485444), -INT32_C(   707383079),  INT32_C(  2073457192), -INT32_C(   905675866),
        -INT32_C(  1010688595),  INT32_C(   187261763), -INT32_C(   909176784),  INT32_C(  1056955074), -INT32_C(  1731680321),  INT32_C(     7249623), -INT32_C(  1233452016),  INT32_C(   746618751) },
      { -INT32_C(   521124964), -INT32_C(   689235546), -INT32_C(   341853399),  INT32_C(  1412079509),  INT32_C(   502067782), -INT32_C(  1608689008), -INT32_C(   581527458), -INT32_C(  1274357992),
        -INT32_C(  1063978470),  INT32_C(  1016561683), -INT32_C(   802736581),  INT32_C(   455365077), -INT32_C(   751235005), -INT32_C(   915188117),  INT32_C(   128436975), -INT32_C(  1145327199) },
      { -INT32_C(  1099214677),  INT32_C(   200938192),  INT32_C(   517677385), -INT32_C(  1237647501),  INT32_C(  2055893775), -INT32_C(  1203438135),  INT32_C(  1757408199),  INT32_C(  1193507740),
        -INT32_C(  1694130229), -INT32_C(    89718863), -INT32_C(  1827045088), -INT32_C(  1890954368), -INT32_C(  1895115578), -INT32_C(  1723314479), -INT32_C(   721352903),  INT32_C(  1293690242) },
      {  INT32_C(  1978147268),  INT32_C(  1081118240), -INT32_C(  1881896689), -INT32_C(  1575018788), -INT32_C(  1020188174), -INT32_C(  1336116873),  INT32_C(    59072129),  INT32_C(  1196532099),
        -INT32_C(   490980926), -INT32_C(   685626168), -INT32_C(  1855457611),  INT32_C(   104039956),  INT32_C(   650798511),  INT32_C(  1607870174),  INT32_C(   123952004), -INT32_C(  1102138116) },
      { -INT32_C(  1247802387), -INT32_C(   309476809), -INT32_C(   847317831),  INT32_C(   701805178) },
      {  INT32_C(  2054725484), -INT32_C(   430429866), -INT32_C(   565260413),  INT32_C(  1513259923), -INT32_C(   783660383), -INT32_C(   279512536), -INT32_C(   367586257), -INT32_C(  1532697330),
        -INT32_C(   677310416), -INT32_C(   472543411), -INT32_C(  1588615154),  INT32_C(  1118964463), -INT32_C(   912439605), -INT32_C(   200445478), -INT32_C(   117683063), -INT32_C(   582913533) } },
    { { -INT32_C(   179331561),  INT32_C(  1230316996),  INT32_C(  2085664896),  INT32_C(  1497014124), -INT32_C(   519054678),  INT32_C(  1439603868),  INT32_C(   170085776),  INT32_C(   372504575),
         INT32_C(  1493926549),  INT32_C(   664952999), -INT32_C(  2069630184),  INT32_C(  1021238674),  INT32_C(  1394470327),  INT32_C(   430566537),  INT32_C(   941870137),  INT32_C(  1481529027) },
      UINT16_C(23000),
      {  INT32_C(  1421508529),  INT32_C(  1229443750),  INT32_C(   891738455),  INT32_C(   841145621), -INT32_C(   652301520), -INT32_C(   408594492), -INT32_C(   583178097),  INT32_C(  1916212672),
         INT32_C(   986116500),  INT32_C(   444796355), -INT32_C(    78665242), -INT32_C(  1238535802), -INT32_C(   527414244),  INT32_C(   868693411),  INT32_C(  1578108062), -INT32_C(  1378859239) },
      { -INT32_C(    51931592), -INT32_C(  1995019613), -INT32_C(  1719376365), -INT32_C(   196037929), -INT32_C(  1579884290), -INT32_C(  1277912043), -INT32_C(  1173166688),  INT32_C(  1701306924),
         INT32_C(   476139385), -INT32_C(   844728391), -INT32_C(  1251595555), -INT32_C(   626411812), -INT32_C(  1401127530), -INT32_C(  1168158695),  INT32_C(  1651798325), -INT32_C(   842540204) },
      { -INT32_C(   454481878),  INT32_C(  2108788639), -INT32_C(  1775102022),  INT32_C(  1685183438),  INT32_C(  1913711960),  INT32_C(  1932292157),  INT32_C(   903192801), -INT32_C(  1509778309),
         INT32_C(  1670048964),  INT32_C(   903887739),  INT32_C(   550244946),  INT32_C(  1183137261),  INT32_C(  1740150058), -INT32_C(   405085179), -INT32_C(    14897276),  INT32_C(   262479691) },
      { -INT32_C(  2039271669), -INT32_C(  1111731350),  INT32_C(  1407027302), -INT32_C(   275160379), -INT32_C(    44674568), -INT32_C(  1176227531),  INT32_C(   750322144),  INT32_C(   725311008),
        -INT32_C(   122573170),  INT32_C(  1756720386), -INT32_C(  1162112011), -INT32_C(   307669515), -INT32_C(   588578650),  INT32_C(   295030577), -INT32_C(   264417584),  INT32_C(   991656365) },
      {  INT32_C(   691260711),  INT32_C(   814868794),  INT32_C(  1911180668),  INT32_C(  1214223522) },
      { -INT32_C(   179331561),  INT32_C(  1230316996),  INT32_C(  2085664896),  INT32_C(  1816032564), -INT32_C(  1984642644),  INT32_C(  1439603868),  INT32_C(   172625335),  INT32_C(   458729231),
        -INT32_C(  1251912372),  INT32_C(   664952999), -INT32_C(  2069630184), -INT32_C(   648218533),  INT32_C(   551997649),  INT32_C(   430566537), -INT32_C(  1189162841),  INT32_C(  1481529027) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512i src = simde_mm512_loadu_epi32(test_vec[i].src);
    simde__m512i a0 = simde_mm512_loadu_epi32(test_vec[i].a0);
    simde__m512i a1 = simde_mm512_loadu_epi32(test_vec[i].a1);
    simde__m512i a2 = simde_mm512_loadu_epi32(test_vec[i].a2);
    simde__m512i a3 = simde_mm512_loadu_epi32(test_vec[i].a3);
    simde__m128i b = simde_x_mm_loadu_epi32(test_vec[i].b);
    simde__m512i r = simde_mm512_mask_4dpwssd_epi32(src, test_vec[i].k, a0, a1, a2, a3, &b);
    simde_test_x86_assert_equal_i32x16(r, simde_mm512_loadu_epi32(test_vec[i].r));
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__m512i src = simde_test_x86_random_i32x16();
    simde__mmask16 k = simde_test_x86_random_mmask16();
    simde__m512i a0 = simde_test_x86_random_i32x16();
    simde__m512i a1 = simde_test_x86_random_i32x16();
    simde__m512i a2 = simde_test_x86_random_i32x16();
    simde__m512i a3 = simde_test_x86_random_i32x16();
    simde__m128i b = simde_test_x86_random_i32x4();
    simde__m512i r = simde_mm512_mask_4dpwssd_epi32(src, k, a0, a1, a2, a3, &b);

    simde_test_x86_write_i32x16(2, src, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_mmask16(2, k, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a0, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a1, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a2, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a3, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x4(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_maskz_4dpwssd_epi32 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const simde__mmask16 k;
    const int32_t src[16];
    const int32_t a0[16];
    const int32_t a1[16];
    const int32_t a2[16];
    const int32_t a3[16];
    const int32_t b[4];
    const int32_t r[16];
  } test_vec[] = {
    { UINT16_C(19092),
      { -INT32_C(  1172716252),  INT32_C(   336128726), -INT32_C(   158485030),  INT32_C(   616805616),  INT32_C(  1863187934),  INT32_C(   415009069),  INT32_C(  1504468730), -INT32_C(   878493529),
        -INT32_C(   611992315), -INT32_C(  2115006809),  INT32_C(   880245827),  INT32_C(   257440305),  INT32_C(  1702782264), -INT32_C(   394445842),  INT32_C(  1078077849),  INT32_C(  1846338921) },
      {  INT32_C(  1229623714),  INT32_C(  1674262815), -INT32_C(   409517386), -INT32_C(  1242108035),  INT32_C(  1109029972),  INT32_C(  1227528367),  INT32_C(   730426561), -INT32_C(   191261358),
         INT32_C(  1178526503), -INT32_C(   743896803), -INT32_C(   927317941), -INT32_C(  2088914897), -INT32_C(   725247964), -INT32_C(   249696208), -INT32_C(  1373854116),  INT32_C(  1671673404) },
      { -INT32_C(  1230380647),  INT32_C(   898192362), -INT32_C(  1006746733),  INT32_C(   407272435),  INT32_C(  1139543059),  INT32_C(  1479870972), -INT32_C(   351841873), -INT32_C(  1588680185),
         INT32_C(  1968699531), -INT32_C(   559226549),  INT32_C(   413247524),  INT32_C(   925952036), -INT32_C(   260367116), -INT32_C(   733433819),  INT32_C(   163598081), -INT32_C(  2069229831) },
      {  INT32_C(  1375273222),  INT32_C(   120628450),  INT32_C(  1881133388), -INT32_C(  1381478471), -INT32_C(  1868749973), -INT32_C(   731584813),  INT32_C(   803021877),  INT32_C(   968066867),
         INT32_C(  1804316041), -INT32_C(  1653425327),  INT32_C(  1175359884),  INT32_C(  1274263264), -INT32_C(  1394896423), -INT32_C(  1400881033), -INT32_C(  1747231132),  INT32_C(  1859227621) },
      { -INT32_C(  1915069380), -INT32_C(  1557509097), -INT32_C(  1092011810), -INT32_C(   955589138), -INT32_C(   445389458), -INT32_C(  1970146267),  INT32_C(   924937554),  INT32_C(   950465276),
         INT32_C(  1707442254), -INT32_C(  1442189364),  INT32_C(   376042024),  INT32_C(  1037988815),  INT32_C(  2116178264), -INT32_C(  1761037243),  INT32_C(   500115745),  INT32_C(  1783985436) },
      { -INT32_C(  1043326219),  INT32_C(   829217033), -INT32_C(  1689725493), -INT32_C(  1596447160) },
      {  INT32_C(           0),  INT32_C(           0), -INT32_C(   845832803),  INT32_C(           0), -INT32_C(   275731920),  INT32_C(           0),  INT32_C(           0),  INT32_C(   119194183),
         INT32_C(           0),  INT32_C(  1633111374),  INT32_C(           0),  INT32_C(  1241556051),  INT32_C(           0),  INT32_C(           0),  INT32_C(   366190093),  INT32_C(           0) } },
    { UINT16_C(64375),
      {  INT32_C(   649051422),  INT32_C(   592498772),  INT32_C(  1117285613), -INT32_C(  1503883818), -INT32_C(  1149278897), -INT32_C(   544191593), -INT32_C(  1106913050), -INT32_C(  1749451656),
        -INT32_C(  1900189639),  INT32_C(   632360248),  INT32_C(  1348946553),  INT32_C(   653706199), -INT32_C(  1058965975), -INT32_C(  1482722879), -INT32_C(  1033526199),  INT32_C(  1515790112) },
      { -INT32_C(  1058531705), -INT32_C(  1645897436), -INT32_C(  1142075933),  INT32_C(   971105296),  INT32_C(   469353306),  INT32_C(  2126682164),  INT32_C(  1564485436), -INT32_C(   826828474),
        -INT32_C(   745627729),  INT32_C(   477197112), -INT32_C(   774414656), -INT32_C(  1677019070), -INT32_C(  1330183045), -INT32_C(   651265636), -INT32_C(   415863135), -INT32_C(  1229591289) },
      { -INT32_C(   997571700),  INT32_C(  2011233207), -INT32_C(  1672956071), -INT32_C(   348630160), -INT32_C(   207884201),  INT32_C(   181193065),  INT32_C(  1056047671),  INT32_C(  2079696879),
        -INT32_C(  1572831253), -INT32_C(   753328006),  INT32_C(  1215259352),  INT32_C(   204712117),  INT32_C(    33542040), -INT32_C(   804467560), -INT32_C(  1106313522), -INT32_C(  1875311707) },
      { -INT32_C(    63800958),  INT32_C(  1926253722),  INT32_C(  1673150382),  INT32_C(  2138041831),  INT32_C(  1434545852),  INT32_C(   153455930),  INT32_C(   818361227), -INT32_C(  1178533833),
         INT32_C(   347534202), -INT32_C(   309950913), -INT32_C(  1387249467), -INT32_C(   366166227),  INT32_C(  1749003566), -INT32_C(   982424518), -INT32_C(   822724457), -INT32_C(  1282885831) },
      { -INT32_C(   356041046), -INT32_C(  1982378556), -INT32_C(  1170855795),  INT32_C(   363095015),  INT32_C(  1266606864), -INT32_C(   552538297),  INT32_C(  1638729256),  INT32_C(  1746154941),
         INT32_C(   928177011), -INT32_C(  1245632216),  INT32_C(   963639121),  INT32_C(  1800279130),  INT32_C(  1068944631), -INT32_C(   467745092), -INT32_C(  1975137331),  INT32_C(  1962039553) },
      {  INT32_C(  1554793524), -INT32_C(  1089376914), -INT32_C(  1074233244), -INT32_C(  1943386220) },
      { -INT32_C(  1788947652),  INT32_C(   912937021), -INT32_C(   218830182),  INT32_C(           0),  INT32_C(  1838344913), -INT32_C(  1215236324), -INT32_C(   991317230),  INT32_C(           0),
         INT32_C(  1031465210),  INT32_C(  1198656377),  INT32_C(           0),  INT32_C(   923711406), -INT32_C(  1225926021), -INT32_C(  2142151562),  INT32_C(  1158254004), -INT32_C(  2095648378) } },
    { UINT16_C(57363),
      { -INT32_C(   374943797), -INT32_C(   122391629), -INT32_C(   263080450), -INT32_C(   701135574), -INT32_C(   230448159),  INT32_C(  1534306146), -INT32_C(  1868429466),  INT32_C(  1584444819),
         INT32_C(   944183173), -INT32_C(  2009990006), -INT32_C(   612793679), -INT32_C(   374231544), -INT32_C(  1277365167),  INT32_C(    34492316), -INT32_C(   359419818), -INT32_C(   347602074) },
      { -INT32_C(  1524396006),  INT32_C(  1026380940), -INT32_C(   551967017), -INT32_C(  1513567660),  INT32_C(  1532601535),  INT32_C(  1247635443),  INT32_C(  2117398552),  INT32_C(   241794292),
        -INT32_C(  1733063668), -INT32_C(  1193877023), -INT32_C(   594022521),  INT32_C(  2021744569), -INT32_C(   137111036),  INT32_C(  1514221890),  INT32_C(   366507297), -INT32_C(    31178254) },
      { -INT32_C(  1365780531),  INT32_C(  1080454584),  INT32_C(   354221404),  INT32_C(  1636736349), -INT32_C(  1168613000), -INT32_C(  1273718126),  INT32_C(    30010383), -INT32_C(   100602579),
         INT32_C(  2108266437),  INT32_C(  1623002884),  INT32_C(  1786108173), -INT32_C(   271907977), -INT32_C(   139910299), -INT32_C(   844382787), -INT32_C(   691112535),  INT32_C(   667995746) },
      {  INT32_C(  1772452197), -INT32_C(  1765186935), -INT32_C(  1291829444), -INT32_C(  1482503358), -INT32_C(  1398846482), -INT32_C(  1317451256),  INT32_C(   579291071),  INT32_C(  2068403990),
         INT32_C(  1525018321), -INT32_C(  1913606575),  INT32_C(   809562349), -INT32_C(  1445469509),  INT32_C(   894793261), -INT32_C(  2132357439),  INT32_C(   748842262), -INT32_C(  1784156988) },
      {  INT32_C(   737119450),  INT32_C(   683204411), -INT32_C(  1973880625),  INT32_C(   120860890),  INT32_C(  1732020646),  INT32_C(  1860706904),  INT32_C(  1419414159),  INT32_C(  1374241142),
         INT32_C(   159177166), -INT32_C(  2010040904),  INT32_C(   135432749),  INT32_C(  1611613882),  INT32_C(   684215504), -INT32_C(    23678866), -INT32_C(  1320013766),  INT32_C(  1057110897) },
      { -INT32_C(   850887148), -INT32_C(   514491725), -INT32_C(  1091999996),  INT32_C(  2115958958) },
      { -INT32_C(  1494686347), -INT32_C(  2070132053),  INT32_C(           0),  INT32_C(           0),  INT32_C(   722666723),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),
         INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(    49504387),  INT32_C(   359069455), -INT32_C(   502293424) } },
    { UINT16_C(58948),
      {  INT32_C(  1016509350),  INT32_C(    57463217), -INT32_C(  2076254846),  INT32_C(  1694651165),  INT32_C(  1977595424), -INT32_C(  2133007465), -INT32_C(  1065842015), -INT32_C(  1364804344),
         INT32_C(   568999280), -INT32_C(  1876666866),  INT32_C(  1360290356), -INT32_C(   709486923),  INT32_C(  1665832652),  INT32_C(   467871609), -INT32_C(  1160029007), -INT32_C(  1989639911) },
      { -INT32_C(   861252674), -INT32_C(   581120343), -INT32_C(   433164240),  INT32_C(  1404822919), -INT32_C(   189331845), -INT32_C(   569402835),  INT32_C(   261679862),  INT32_C(   714604908),
        -INT32_C(    34127276),  INT32_C(  1104892688),  INT32_C(  1260849604),  INT32_C(  1772020462),  INT32_C(   358503912), -INT32_C(   420188688), -INT32_C(   990475176), -INT32_C(   504459635) },
      { -INT32_C(   505420335), -INT32_C(    48055751), -INT32_C(  1303885373),  INT32_C(   337372716),  INT32_C(   740981052),  INT32_C(  1058152167),  INT32_C(   939722922),  INT32_C(  1746530711),
         INT32_C(   273283287),  INT32_C(  1980591282), -INT32_C(   517450315),  INT32_C(  2012627771), -INT32_C(  1532813123), -INT32_C(   387729858),  INT32_C(  1428219582), -INT32_C(  1363330345) },
      { -INT32_C(   440531150),  INT32_C(   677104499),  INT32_C(  1544192800), -INT32_C(  2083323706),  INT32_C(  1579644704), -INT32_C(   347731411), -INT32_C(   935237648), -INT32_C(   747176287),
         INT32_C(  2025338117),  INT32_C(   564204288),  INT32_C(  1568517014), -INT32_C(   874491733), -INT32_C(   198637369),  INT32_C(    65040146),  INT32_C(  2009801174),  INT32_C(   625688863) },
      {  INT32_C(  2006778742), -INT32_C(  1382531561), -INT32_C(  1811278359),  INT32_C(   761260901),  INT32_C(    86083827), -INT32_C(   838336008),  INT32_C(  1111937826), -INT32_C(  1956146923),
        -INT32_C(  1425931116),  INT32_C(   744069699),  INT32_C(   364995503),  INT32_C(  1094852686), -INT32_C(  1589156951), -INT32_C(  2022748315),  INT32_C(   952743203), -INT32_C(   607965114) },
      {  INT32_C(  2022098485),  INT32_C(   279240544), -INT32_C(  1859820221),  INT32_C(   802383750) },
      {  INT32_C(           0),  INT32_C(           0),  INT32_C(  2021462610),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(  1275082337),  INT32_C(           0),
         INT32_C(           0),  INT32_C(   515697392),  INT32_C(   991013710),  INT32_C(           0),  INT32_C(           0), -INT32_C(  2035495574), -INT32_C(  1202275882),  INT32_C(   984286512) } },
    { UINT16_C( 6858),
      {  INT32_C(  1063858128), -INT32_C(  2131391305), -INT32_C(  2001650748), -INT32_C(  1655773674),  INT32_C(    41725534), -INT32_C(   479674434),  INT32_C(   608890449), -INT32_C(   314698467),
        -INT32_C(    80959676), -INT32_C(   126082764),  INT32_C(  1937780061),  INT32_C(  1896926739),  INT32_C(   997428605), -INT32_C(  1658856628), -INT32_C(   423532087), -INT32_C(  1009516674) },
      { -INT32_C(   608304985),  INT32_C(  2127772193),  INT32_C(  2062701671), -INT32_C(  1611988446), -INT32_C(   589602929),  INT32_C(    75102778), -INT32_C(   487965853), -INT32_C(   509231558),
        -INT32_C(   541301826),  INT32_C(    90083486),  INT32_C(   109072612), -INT32_C(   492410030),  INT32_C(    96371146), -INT32_C(   569821317), -INT32_C(  1379863694),  INT32_C(  1871603121) },
      {  INT32_C(  1733249993), -INT32_C(  1083396645),  INT32_C(  1338371325),  INT32_C(   573664088),  INT32_C(  1730670572), -INT32_C(  1723453401), -INT32_C(   716831196),  INT32_C(   893769068),
        -INT32_C(    73624544),  INT32_C(  1052379201),  INT32_C(  1301118965), -INT32_C(   680542229), -INT32_C(   717252690), -INT32_C(   345012793), -INT32_C(   138300021), -INT32_C(  1439955318) },
      { -INT32_C(   609892198), -INT32_C(   971415599), -INT32_C(   904681761),  INT32_C(   346128997), -INT32_C(   504766439), -INT32_C(   238266267), -INT32_C(  1729590002),  INT32_C(   759371155),
        -INT32_C(  1375147811),  INT32_C(   661922120),  INT32_C(   770803656),  INT32_C(   591499786), -INT32_C(   670815373), -INT32_C(  1849044605), -INT32_C(   232082850), -INT32_C(  1541444153) },
      { -INT32_C(  1655494571),  INT32_C(   298108745),  INT32_C(  1497347407), -INT32_C(  1149468600),  INT32_C(   798196139), -INT32_C(  1329570478), -INT32_C(   693966321), -INT32_C(  1384463785),
         INT32_C(   860540394), -INT32_C(   465236075),  INT32_C(   205358276), -INT32_C(  1329088252), -INT32_C(  1931519174), -INT32_C(   952262728), -INT32_C(   509747318), -INT32_C(  1953622111) },
      {  INT32_C(  2059393509), -INT32_C(  1403124504), -INT32_C(  1933993080), -INT32_C(  1891860396) },
      {  INT32_C(           0),  INT32_C(  1416756460),  INT32_C(           0), -INT32_C(  1013092216),  INT32_C(           0),  INT32_C(           0),  INT32_C(    19459769), -INT32_C(  1002599089),
         INT32_C(           0), -INT32_C(   966787678),  INT32_C(           0),  INT32_C(   332476025),  INT32_C(   360428162),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0) } },
    { UINT16_C( 7131),
      {  INT32_C(  1488687899), -INT32_C(   147307174), -INT32_C(  1257252570),  INT32_C(   613348453), -INT32_C(   869763474), -INT32_C(   613961694),  INT32_C(  2036120380),  INT32_C(  1720989514),
         INT32_C(   633229259), -INT32_C(  1155664236),  INT32_C(   896543952), -INT32_C(  1906704864), -INT32_C(  1772453516),  INT32_C(  1836237105), -INT32_C(   941175172), -INT32_C(   802325755) },
      {  INT32_C(  1610017738), -INT32_C(  1306913822),  INT32_C(  1609009727), -INT32_C(    51560312), -INT32_C(   225294399), -INT32_C(  2074147832), -INT32_C(   666155310), -INT32_C(  1951893311),
         INT32_C(  1189781092), -INT32_C(   252181327),  INT32_C(   374333326), -INT32_C(   535675873), -INT32_C(  1949129341),  INT32_C(  2081436073),  INT32_C(   945052535),  INT32_C(   952433876) },
      {  INT32_C(  1283370651),  INT32_C(  1094547123),  INT32_C(  1951960149),  INT32_C(  1280600777), -INT32_C(  1177016817), -INT32_C(   818550697),  INT32_C(   386369859),  INT32_C(   542100357),
         INT32_C(   762170746), -INT32_C(  1737577917), -INT32_C(    15940042),  INT32_C(  1078747185), -INT32_C(   554097530),  INT32_C(  1336749580),  INT32_C(  1030206647), -INT32_C(    94521728) },
      { -INT32_C(   953693564), -INT32_C(  1419733644), -INT32_C(  1918210980),  INT32_C(  1406006989),  INT32_C(   640796442), -INT32_C(  1384718603),  INT32_C(   334159251),  INT32_C(   386746259),
        -INT32_C(  2032192494),  INT32_C(   623984585),  INT32_C(  2024987819), -INT32_C(   305364782),  INT32_C(  1007942983),  INT32_C(  1877576156), -INT32_C(    92089498),  INT32_C(   756125467) },
      { -INT32_C(  1934364477), -INT32_C(   609032913), -INT32_C(  1823251263),  INT32_C(   729817060), -INT32_C(   110586851), -INT32_C(  2073538275),  INT32_C(  1082059301),  INT32_C(  1013813113),
        -INT32_C(  1345838976), -INT32_C(   964003323), -INT32_C(  1017454881),  INT32_C(   451926781), -INT32_C(  1944889490), -INT32_C(   854557784), -INT32_C(   569536923), -INT32_C(  1659209187) },
      { -INT32_C(  1605508197),  INT32_C(  1013438301), -INT32_C(  1291796043),  INT32_C(   181268379) },
      {  INT32_C(  2055088501),  INT32_C(   669588390),  INT32_C(           0),  INT32_C(  1981551237),  INT32_C(   538354193),  INT32_C(           0),  INT32_C(   188348169), -INT32_C(  1178188766),
        -INT32_C(  1403820887), -INT32_C(  1043649454),  INT32_C(           0),  INT32_C(  1719731484),  INT32_C(  1701118508),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0) } },
    { UINT16_C(57670),
      { -INT32_C(  1503859050), -INT32_C(   919289156), -INT32_C(  1153150560),  INT32_C(  1017044975), -INT32_C(   434898049),  INT32_C(   950520120),  INT32_C(  1227309948), -INT32_C(   483758771),
         INT32_C(   394889051), -INT32_C(   371081911), -INT32_C(    39574258), -INT32_C(  2093399548),  INT32_C(  1986678078), -INT32_C(  1834086122), -INT32_C(  1579428524), -INT32_C(  1652292030) },
      { -INT32_C(   692777587), -INT32_C(   641755446), -INT32_C(  1076468549), -INT32_C(   465432410),  INT32_C(  1935322205),  INT32_C(   302319806),  INT32_C(   531947741),  INT32_C(  1941780710),
         INT32_C(   273248838), -INT32_C(  1008137976),  INT32_C(   327336045),  INT32_C(   771278032),  INT32_C(   799036017),  INT32_C(   943826267),  INT32_C(  1817769349),  INT32_C(  1960777006) },
      { -INT32_C(  1887164025), -INT32_C(  1621987790), -INT32_C(    21834706),  INT32_C(   153856664),  INT32_C(  1480117245), -INT32_C(   175080848), -INT32_C(  1654527889), -INT32_C(  2079243779),
        -INT32_C(  1676437910),  INT32_C(   842753284), -INT32_C(   768545479), -INT32_C(  1780786280), -INT32_C(  1762847706), -INT32_C(    41190002),  INT32_C(  1671163238), -INT32_C(  1729582034) },
      {  INT32_C(  1177877314), -INT32_C(  1703383199), -INT32_C(   194205604),  INT32_C(   696862723), -INT32_C(   356551076),  INT32_C(  1525107700),  INT32_C(  1723695672),  INT32_C(  1912513839),
         INT32_C(    45626017), -INT32_C(    40095583), -INT32_C(   588117543), -INT32_C(  1392084143), -INT32_C(   426261006),  INT32_C(  1212186128),  INT32_C(   816774401),  INT32_C(  1151446179) },
      {  INT32_C(  2135316958),  INT32_C(  1669194378),  INT32_C(  1010790379), -INT32_C(   588691990),  INT32_C(   465731595),  INT32_C(     6554367), -INT32_C(  1557130752), -INT32_C(  1645751873),
        -INT32_C(  1256379093), -INT32_C(    82273777), -INT32_C(   214477047), -INT32_C(  1462754915), -INT32_C(  1597795679), -INT32_C(  1784666219), -INT32_C(   113717190), -INT32_C(   845799518) },
      {  INT32_C(  1535292236),  INT32_C(  1448516173), -INT32_C(  1907716367),  INT32_C(  1345723055) },
      {  INT32_C(           0),  INT32_C(    38640435),  INT32_C(   323952661),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(   269908327),  INT32_C(           0),
         INT32_C(   531061198),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0), -INT32_C(   766548238), -INT32_C(  1092522001), -INT32_C(  1847897067) } },
    { UINT16_C(64172),
      { -INT32_C(  1860091407),  INT32_C(   241327062), -INT32_C(   349371308),  INT32_C(  1402894801),  INT32_C(   737012949), -INT32_C(  1933975998), -INT32_C(  1549375379), -INT32_C(  1432529991),
         INT32_C(  1799077780),  INT32_C(  1870241050),  INT32_C(  1918543777), -INT32_C(   171575264),  INT32_C(   656519908), -INT32_C(    21767535), -INT32_C(    56534461),  INT32_C(  1101414317) },
      {  INT32_C(   413983230),  INT32_C(   545728127), -INT32_C(   309075507), -INT32_C(  1092396838), -INT32_C(  1662712821),  INT32_C(   563780062), -INT32_C(  1608696845),  INT32_C(  2028061562),
         INT32_C(   613519013), -INT32_C(  2126243660), -INT32_C(   730933254),  INT32_C(   999444784),  INT32_C(   886536277),  INT32_C(    72708369),  INT32_C(   665088940), -INT32_C(   610302666) },
      { -INT32_C(   939577325),  INT32_C(  1128809545),  INT32_C(  1259845403),  INT32_C(  1585883400),  INT32_C(   848452897),  INT32_C(  2067195854), -INT32_C(  1851598246),  INT32_C(  1936474464),
        -INT32_C(  1153733518), -INT32_C(   872512592),  INT32_C(  1125586234), -INT32_C(   526279234), -INT32_C(   921553925),  INT32_C(  1967409434), -INT32_C(  2096699869), -INT32_C(  1695059416) },
      { -INT32_C(  1907019042), -INT32_C(   262515787),  INT32_C(   640905576),  INT32_C(   151442446),  INT32_C(   567482631), -INT32_C(  2053761182),  INT32_C(   638164222), -INT32_C(   306184177),
        -INT32_C(   411298510), -INT32_C(   791161240),  INT32_C(  1442187847), -INT32_C(   446693922),  INT32_C(  2013737494),  INT32_C(  1207803209),  INT32_C(  1231881786),  INT32_C(   943074566) },
      { -INT32_C(  1440697790), -INT32_C(   814024824), -INT32_C(   534417150), -INT32_C(  2067364754), -INT32_C(      209482), -INT32_C(  1538786966),  INT32_C(   116241408),  INT32_C(   608117986),
         INT32_C(  1607426006),  INT32_C(  1479428438),  INT32_C(   674845626), -INT32_C(  1918042153),  INT32_C(   915253452), -INT32_C(  1562651486),  INT32_C(  1789446280), -INT32_C(  1013979156) },
      { -INT32_C(  1658692026),  INT32_C(  1660244135),  INT32_C(  2072653476), -INT32_C(   116836563) },
      {  INT32_C(           0),  INT32_C(           0), -INT32_C(   283905975),  INT32_C(  1988926717),  INT32_C(           0), -INT32_C(   225098490),  INT32_C(           0), -INT32_C(  1528968915),
         INT32_C(           0), -INT32_C(  1413567535),  INT32_C(           0), -INT32_C(  1463989422), -INT32_C(   564650494),  INT32_C(  1897104017), -INT32_C(   351287255),  INT32_C(    69164169) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512i src = simde_mm512_loadu_epi32(test_vec[i].src);
    simde__m512i a0 = simde_mm512_loadu_epi32(test_vec[i].a0);
    simde__m512i a1 = simde_mm512_loadu_epi32(test_vec[i].a1);
    simde__m512i a2 = simde_mm512_loadu_epi32(test_vec[i].a2);
    simde__m512i a3 = simde_mm512_loadu_epi32(test_vec[i].a3);
    simde__m128i b = simde_x_mm_loadu_epi32(test_vec[i].b);
    simde__m512i r = simde_mm512_maskz_4dpwssd_epi32(test_vec[i].k, src, a0, a1, a2, a3, &b);
    simde_test_x86_assert_equal_i32x16(r, simde_mm512_loadu_epi32(test_vec[i].r));
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__mmask16 k = simde_test_x86_random_mmask16();
    simde__m512i src = simde_test_x86_random_i32x16();
    simde__m512i a0 = simde_test_x86_random_i32x16();
    simde__m512i a1 = simde_test_x86_random_i32x16();
    simde__m512i a2 = simde_test_x86_random_i32x16();
    simde__m512i a3 = simde_test_x86_random_i32x16();
    simde__m128i b = simde_test_x86_random_i32x4();
    simde__m512i r = simde_mm512_maskz_4dpwssd_epi32(k, src, a0, a1, a2, a3, &b);

    simde_test_x86_write_mmask16(2, k, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_i32x16(2, src, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a0, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a1, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a2, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a3, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x4(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

SIMDE_TEST_FUNC_LIST_BEGIN
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_4dpwssd_epi32)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_mask_4dpwssd_epi32)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_maskz_4dpwssd_epi32)
SIMDE_TEST_FUNC_LIST_END

#include <test/x86/avx512/test-avx512-footer.h>
